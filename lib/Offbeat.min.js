var a=27.5,asharp=29.1352,b=30.8677,bflat=asharp,c=32.7032,csharp=34.6478,d=36.7081,dflat=csharp,dsharp=38.8909,e=41.2034,eflat=dsharp,f=43.6535,fsharp=46.2493,g=48.9994,gflat=fsharp,gsharp=51.9131,aflat=gsharp,frequency={rest:0,a0:a,a1:2*a,a2:4*a,a3:8*a,a4:16*a,a5:32*a,a6:64*a,a7:128*a,b0:b,b1:2*b,b2:4*b,b3:8*b,b4:16*b,b5:32*b,b6:64*b,b7:128*b,c1:c,c2:2*c,c3:4*c,c4:8*c,c5:16*c,c6:32*c,c7:64*c,c8:128*c,d1:d,d2:2*d,d3:4*d,d4:8*d,d5:16*d,d6:32*d,d7:64*d,e1:e,e2:2*e,e3:4*e,e4:8*e,e5:16*e,e6:32*e,e7:64*
e,f1:f,f2:2*f,f3:4*f,f4:8*f,f5:16*f,f6:32*f,f7:64*f,g1:g,g2:2*g,g3:4*g,g4:8*g,g5:16*g,g6:32*g,g7:64*g,"a#0":asharp,"a#1":2*asharp,"a#2":4*asharp,"a#3":8*asharp,"a#4":16*asharp,"a#5":32*asharp,"a#6":64*asharp,"a#7":128*asharp,"c#1":csharp,"c#2":2*csharp,"c#3":4*csharp,"c#4":8*csharp,"c#5":16*csharp,"c#6":32*csharp,"c#7":64*csharp,"d#1":dsharp,"d#2":2*dsharp,"d#3":4*dsharp,"d#4":8*dsharp,"d#5":16*dsharp,"d#6":32*dsharp,"d#7":64*dsharp,"f#1":fsharp,"f#2":2*fsharp,"f#3":4*fsharp,"f#4":8*fsharp,"f#5":16*
fsharp,"f#6":32*fsharp,"f#7":64*fsharp,"g#1":gsharp,"g#2":2*gsharp,"g#3":4*gsharp,"g#4":8*gsharp,"g#5":16*gsharp,"g#6":32*gsharp,"g#7":64*gsharp,a_1:aflat,a_2:2*aflat,a_3:4*aflat,a_4:8*aflat,a_5:16*aflat,a_6:32*aflat,a_7:64*aflat,b_0:bflat,b_1:2*bflat,b_2:4*bflat,b_3:8*bflat,b_4:16*bflat,b_5:32*bflat,b_6:64*bflat,b_7:128*bflat,d_1:dflat,d_2:2*dflat,d_3:4*dflat,d_4:8*dflat,d_5:16*dflat,d_6:32*dflat,d_7:64*dflat,e_1:eflat,e_2:2*eflat,e_3:4*eflat,e_4:8*eflat,e_5:16*eflat,e_6:32*eflat,e_7:64*eflat,g_1:gflat,
g_2:2*gflat,g_3:4*gflat,g_4:8*gflat,g_5:16*gflat,g_6:32*gflat,g_7:64*gflat},duration={ts:.03125,s:.0625,t:.08333,e:.125,q:.25,h:.5,w:1},Offbeat={parse_notes:function(){return this.notes.split(",").map(function(h){return h.trim().split(" ")})},get_time:function(h){return h*this.timeSig*4/(this.tempo/60)},layer:function(h){var k={tempo:60,timeSig:1,instrument:"sine",notes:""};if(h)for(var l in h)if(k.hasOwnProperty(l))k[l]=h[l];else throw'Property "'+l+'" does not exist.';return Object.assign(Object.create(this),
k)},play:function(){var h=this;if(""===this.notes)throw'Property "notes" is invalid.';var k=new (window.AudioContext||window.webkitAudioContext),l=0,n=this.parse_notes();n.forEach(function(p,q){var m=k.createOscillator();m.type=h.instrument;m.connect(k.destination);m.frequency.value=frequency[p[1]];m.start(l);l+=h.get_time(duration[p[0]]);m.stop(l);q===n.length&&(m.onended=function(){k.close()})})},time:function(){var h=this;if(""===this.notes)return 0;var k=0;this.parse_notes().forEach(function(l){k+=
h.get_time(duration[l[0]])});return k}};module.exports=Offbeat;
