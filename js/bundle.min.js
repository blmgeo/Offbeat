(function e$$0(d,h,f){function g(c,b){if(!h[c]){if(!d[c]){var e="function"==typeof require&&require;if(!b&&e)return e(c,!0);if(a)return a(c,!0);e=Error("Cannot find module '"+c+"'");throw e.code="MODULE_NOT_FOUND",e;}e=h[c]={exports:{}};d[c][0].call(e.exports,function(a){var b=d[c][1][a];return g(b?b:a)},e,e.exports,e$$0,d,h,f)}return h[c].exports}for(var a="function"==typeof require&&require,b=0;b<f.length;b++)g(f[b]);return g})({1:[function(k,d,h){function f(){var a=+$("#try-it .tempo").val()||
60,b=$("#try-it .timeSig").val()||"4/4",e=$("#try-it .instrument").val()||"sine",f=$("#try-it .composition").text()||"",d=g.layer({tempo:a,timeSig:b,instrument:e,notes:f});$("#try-it .stop-btn").click(function(){d.stop()});$("#try-it .time").html("<strong>Time:</strong> "+d.time().toFixed(2)+" seconds");return d}var g=k("../lib/Offbeat.js"),a=g.layer({tempo:120,notes:"t g3, t g3, t g3,\nh c4, h g4,\nt f4, t e4, t d4,\nh c5, q g4,\n\nt f4, t e4, t d4,\nh c5, q g4,\nt f4, t e4, t f4,\nh d4"}),b=g.layer({tempo:116,
instrument:"triangle",notes:"s c4, s c4, e e4, e c4, e d4, e b_3,\nq rest, q rest,\ns c4, s c4, s c4, s c4,\ne b_3, e c4, q rest,\n\ns c4, s c4, e e4, e c4, e d4, e b_3,\nq rest, q rest,\ns c4, s c4, s c4, s c4,\ne b_3, e d4, q c4"});harrypotter=g.layer({tempo:60,timeSig:"3/8",instrument:"square",notes:"e b3,\ne-dot e4, s g4, e f#4,\nq e4, e b4,\nq-dot a4,\n\nq-dot f#4,\ne-dot e4, s g4, e f#4,\nq d#4, e f4,\nq-dot b3\n"});$("#starwars .play-btn").click(function(){a.play()});$("#ghostbusters .play-btn").click(function(){b.play()});
$("#harrypotter .play-btn").click(function(){harrypotter.play()});$("#starwars .playLoop-btn").click(function(){a.playLoop()});$("#ghostbusters .playLoop-btn").click(function(){b.playLoop()});$("#harrypotter .playLoop-btn").click(function(){harrypotter.playLoop()});$("#starwars .reverse-btn").click(function(){a.playReverse()});$("#ghostbusters .reverse-btn").click(function(){b.playReverse()});$("#harrypotter .reverse-btn").click(function(){harrypotter.playReverse()});$("#starwars .stop-btn").click(function(){a.stop()});
$("#ghostbusters .stop-btn").click(function(){b.stop()});$("#harrypotter .stop-btn").click(function(){harrypotter.stop()});$("#starwars .composition").text("t g3, t g3, t g3,\nh c4, h g4,\nt f4, t e4, t d4,\nh c5, q g4,\n\nt f4, t e4, t d4,\nh c5, q g4,\nt f4, t e4, t f4,\nh d4");$("#ghostbusters .composition").text("s c4, s c4, e e4, e c4, e d4, e b_3,\nq rest, q rest,\ns c4, s c4, s c4, s c4,\ne b_3, e c4, q rest,\n\ns c4, s c4, e e4, e c4, e d4, e b_3,\nq rest, q rest,\ns c4, s c4, s c4, s c4,\ne b_3, e d4, q c4");
$("#harrypotter .composition").text("e b3,\ne-dot e4, s g4, e f#4,\nq e4, e b4,\nq-dot a4,\n\nq-dot f#4,\ne-dot e4, s g4, e f#4,\nq d#4, e f4,\nq-dot b3\n");$("#starwars .time").html("<strong>Time:</strong> "+a.time().toFixed(2)+" seconds");$("#ghostbusters .time").html("<strong>Time:</strong> "+b.time().toFixed(2)+" seconds");$("#harrypotter .time").html("<strong>Time:</strong> "+harrypotter.time().toFixed(2)+" seconds");$("#try-it .play-btn").click(function(){f().play()});$("#try-it .playLoop-btn").click(function(){f().playLoop()});
$("#try-it .reverse-btn").click(function(){f().playReverse()})},{"../lib/Offbeat.js":2}],2:[function(k,d,h){var f={rest:0,a0:27.5,a1:55,a2:110,a3:220,a4:440,a5:880,a6:1760,a7:3520,b0:30.8677,b1:61.7354,b2:123.4708,b3:246.9416,b4:493.8832,b5:987.7664,b6:1975.5328,b7:3951.0656,c1:32.7032,c2:65.4064,c3:130.8128,c4:261.6256,c5:523.2512,c6:1046.5024,c7:2093.0048,c8:4186.0096,d1:36.7081,d2:73.4162,d3:146.8324,d4:293.6648,d5:587.3296,d6:1174.6592,d7:2349.3184,e1:41.2034,e2:82.4068,e3:164.8136,e4:329.6272,
e5:659.2544,e6:1318.5088,e7:2637.0176,f1:43.6535,f2:87.307,f3:174.614,f4:349.228,f5:698.456,f6:1396.912,f7:2793.824,g1:48.9994,g2:97.9988,g3:195.9976,g4:391.9952,g5:783.9904,g6:1567.9808,g7:3135.9616,"a#0":29.1352,"a#1":58.2704,"a#2":116.5408,"a#3":233.0816,"a#4":466.1632,"a#5":932.3264,"a#6":1864.6528,"a#7":3729.3056,"c#1":34.6478,"c#2":69.2956,"c#3":138.5912,"c#4":277.1824,"c#5":554.3648,"c#6":1108.7296,"c#7":2217.4592,"d#1":38.8909,"d#2":77.7818,"d#3":155.5636,"d#4":311.1272,"d#5":622.2544,"d#6":1244.5088,
"d#7":2489.0176,"f#1":46.2493,"f#2":92.4986,"f#3":184.9972,"f#4":369.9944,"f#5":739.9888,"f#6":1479.9776,"f#7":2959.9552,"g#1":51.9131,"g#2":103.8262,"g#3":207.6524,"g#4":415.3048,"g#5":830.6096,"g#6":1661.2192,"g#7":3322.4384,a_1:51.9131,a_2:103.8262,a_3:207.6524,a_4:415.3048,a_5:830.6096,a_6:1661.2192,a_7:3322.4384,b_0:29.1352,b_1:58.2704,b_2:116.5408,b_3:233.0816,b_4:466.1632,b_5:932.3264,b_6:1864.6528,b_7:3729.3056,d_1:34.6478,d_2:69.2956,d_3:138.5912,d_4:277.1824,d_5:554.3648,d_6:1108.7296,d_7:2217.4592,
e_1:38.8909,e_2:77.7818,e_3:155.5636,e_4:311.1272,e_5:622.2544,e_6:1244.5088,e_7:2489.0176,g_1:46.2493,g_2:92.4986,g_3:184.9972,g_4:369.9944,g_5:739.9888,g_6:1479.9776,g_7:2959.9552},g={ts:.03125,s:.0625,"s-dot":.09375,t:.08333,e:.125,"e-dot":.1875,q:.25,"q-dot":.375,h:.5,"h-dot":.75,w:1,"w-dot":1.5};d.exports={parse_notes:function(a){return a.split(",").map(function(a){return a.trim().split(" ")})},generate_audio:function(a){var b=this,c=this.context.createOscillator(),d=this.calculate_time(g[this.notesParsed[a][0]]),
e=f[this.notesParsed[a][1]];c.connect(this.context.destination);c.type=this.instrument;c.frequency.value=e;c.start(0);c.stop(this.context.currentTime+d);c.onended=function(){a<b.notesParsed.length-1?(a+=1,b.generate_audio(a)):b.ended()}},calculate_time:function(a){return a*this.beatsPerMeasure/(this.tempo/60)},layer:function(a){var b={tempo:60,timeSig:"4/4",instrument:"sine",notes:""};if(a&&"object"===typeof a)for(var c in a)if(b.hasOwnProperty(c)&&typeof b[c]===typeof a[c])b[c]=a[c];else throw Error('Property "'+
c+'" is invalid');a=Object.assign(Object.create(this),b);a.beatsPerMeasure=parseInt(a.timeSig,10);a.notesParsed=this.parse_notes(a.notes);a.context=new (window.AudioContext||window.webkitAudioContext);a.isLoop=!1;return a},play:function(){if(""===this.notes)throw Error('Property "notes" is invalid');this.generate_audio(0)},playReverse:function(){this.notesParsed.reverse();this.play()},playLoop:function(){this.isLoop=!0;this.play()},playReverseLoop:function(){this.isLoop=!0;this.playReverse()},stop:function(){this.isLoop=
!1;this.ended()},time:function(){var a=this;if(""===this.notes)return 0;var b=0;this.notesParsed.forEach(function(c){b+=a.calculate_time(g[c[0]])});return b},ended:function(){var a=this;this.context.close().then(function(){a.context=new (window.AudioContext||window.webkitAudioContext);a.isLoop?a.play():a.notesParsed=a.parse_notes(a.notes)})}}},{}]},{},[1]);
